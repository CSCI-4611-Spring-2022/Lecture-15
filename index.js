var y=Object.defineProperty;var E=(h,e,t)=>e in h?y(h,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[e]=t;var s=(h,e,t)=>(E(h,typeof e!="symbol"?e+"":e,t),t);import{W as Y,S as C,P as D,C as L,V as R,G as B,M as I,A as X,B as m,a as n,b as c,c as P,d as H,D as z,e as G,E as p,f as O}from"./vendor.js";const S=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}};S();class W{constructor(e=60,t=1.333,a=1,r=1e3){s(this,"aspectRatio");s(this,"fov");s(this,"znear");s(this,"zfar");s(this,"renderer");s(this,"scene");s(this,"camera");s(this,"clock");this.fov=e,this.aspectRatio=t,this.znear=a,this.zfar=r,this.renderer=new Y,this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement),this.resize(),window.addEventListener("resize",()=>{this.resize()},!1),window.addEventListener("mousedown",i=>{this.onMouseDown(i)}),window.addEventListener("mouseup",i=>{this.onMouseUp(i)}),window.addEventListener("mousemove",i=>{this.onMouseMove(i)}),window.addEventListener("wheel",i=>{this.onMouseWheel(i)}),window.addEventListener("keydown",i=>{this.onKeyDown(i)}),window.addEventListener("keyup",i=>{this.onKeyUp(i)}),this.scene=new C,this.camera=new D(this.fov,this.aspectRatio,this.znear,this.zfar),this.clock=new L}start(){this.createScene(),this.mainLoop()}mainLoop(){this.update(this.clock.getDelta()),this.renderer.render(this.scene,this.camera),window.requestAnimationFrame(()=>this.mainLoop())}resize(){this.renderer.setSize(window.innerWidth,window.innerHeight);var e=new R;this.renderer.getViewport(e);var t=window.innerWidth/window.innerHeight;this.aspectRatio>t?this.renderer.setViewport(0,(window.innerHeight-window.innerWidth/this.aspectRatio)/2,window.innerWidth,window.innerWidth/this.aspectRatio):this.renderer.setViewport((window.innerWidth-window.innerHeight*this.aspectRatio)/2,0,window.innerHeight*this.aspectRatio,window.innerHeight)}onMouseDown(e){}onMouseUp(e){}onMouseMove(e){}onMouseWheel(e){}onKeyDown(e){}onKeyUp(e){}}class o extends B{constructor(e){super();s(this,"name");s(this,"defaultMaterial");s(this,"debugHelper");this.name=e,this.defaultMaterial=new I,this.defaultMaterial.wireframe=!1,this.debugHelper=new X(.07),this.debugHelper.visible=!1,this.add(this.debugHelper)}createMeshes(){if(this.name=="root"){const e=new m(.5,.05,.5),t=new n(e,this.defaultMaterial);t.translateY(.025),this.add(t);const a=new c(.1,16,6,0,Math.PI*2,0,Math.PI/2),r=new n(a,this.defaultMaterial);r.translateY(.05),this.add(r),this.add(new o("upperArm"))}else if(this.name=="upperArm"){const e=new m(.05,.5,.05),t=new n(e,this.defaultMaterial);t.translateY(.25),this.add(t);const a=new c(.05),r=new n(a,this.defaultMaterial);r.translateY(.5),this.add(r),this.add(new o("middleArm"))}else if(this.name=="middleArm"){this.translateY(.5),this.rotateZ(45*Math.PI/180);const e=new m(.05,.4,.05),t=new n(e,this.defaultMaterial);t.translateY(.2),this.add(t);const a=new c(.05),r=new n(a,this.defaultMaterial);r.translateY(.4),this.add(r),this.add(new o("lowerArm"))}else if(this.name=="lowerArm"){this.translateY(.4),this.rotateZ(45*Math.PI/180);const e=new m(.05,.4,.05),t=new n(e,this.defaultMaterial);t.translateY(.2),this.add(t);const a=new c(.05),r=new n(a,this.defaultMaterial);r.translateY(.4),this.add(r),this.add(new o("endEffector"))}else if(this.name=="endEffector"){this.translateY(.4),this.rotateZ(45*Math.PI/180);const e=new P(.025,.2,16),t=new n(e,this.defaultMaterial);t.translateY(.125),this.add(t)}this.children.forEach(e=>{e instanceof o&&e.createMeshes()})}setRotation(e,t){this.name==e?this.setRotationFromEuler(t):this.children.forEach(a=>{a instanceof o&&a.setRotation(e,t)})}setDebugMode(e){this.defaultMaterial.wireframe=e,this.debugHelper.visible=e,this.children.forEach(t=>{t instanceof o&&t.setDebugMode(e)})}}class k extends W{constructor(){super(60,1920/1080,.1,10);s(this,"mouseDrag");s(this,"debugMode");s(this,"cameraOrbitX");s(this,"cameraOrbitY");s(this,"cameraDistance");s(this,"robotRoot");s(this,"upperArmSwivel");s(this,"upperArmBend");s(this,"middleArmBend");s(this,"lowerArmBend");s(this,"endEffectorBend");this.mouseDrag=!1,this.debugMode=!1,this.cameraOrbitX=0,this.cameraOrbitY=0,this.cameraDistance=0,this.robotRoot=new o("root"),this.upperArmSwivel=0,this.upperArmBend=0,this.middleArmBend=0,this.lowerArmBend=0,this.endEffectorBend=0}createScene(){this.cameraDistance=1.5,this.camera.position.set(0,0,this.cameraDistance),this.camera.lookAt(0,0,0),this.camera.up.set(0,1,0);var e=new H("white",.3);this.scene.add(e);var t=new z("white",.6);t.position.set(0,2,1),this.scene.add(t);var a=new G,r=a.addFolder("Upper Arm Controls");r.open();var i=r.add(this,"upperArmSwivel",-180,180);i.name("swivel"),i.onChange(l=>{this.updateUpperArm()});var d=r.add(this,"upperArmBend",-45,45);d.name("bend"),d.onChange(l=>{this.updateUpperArm()});var u=a.addFolder("Middle Arm Controls");u.open();var w=u.add(this,"middleArmBend",-135,135);w.name("bend"),w.onChange(l=>{this.updateMiddleArm()});var f=a.addFolder("Lower Arm Controls");f.open();var M=f.add(this,"lowerArmBend",-135,135);M.name("bend"),M.onChange(l=>{this.updateLowerArm()});var b=a.addFolder("End Effector Controls");b.open();var g=b.add(this,"endEffectorBend",-90,90);g.name("bend"),g.onChange(l=>{this.updateEndEffector()});var v=a.addFolder("Debugging");v.open();var A=v.add(this,"debugMode");A.name("Debug Mode"),A.onChange(l=>{this.toggleDebugMode(l)}),this.robotRoot.createMeshes(),this.robotRoot.translateY(-.6),this.scene.add(this.robotRoot)}update(e){}updateUpperArm(){this.robotRoot.setRotation("upperArm",new p(0,this.upperArmSwivel*Math.PI/180,this.upperArmBend*Math.PI/180))}updateMiddleArm(){this.robotRoot.setRotation("middleArm",new p(0,0,this.middleArmBend*Math.PI/180))}updateLowerArm(){this.robotRoot.setRotation("lowerArm",new p(0,0,this.lowerArmBend*Math.PI/180))}updateEndEffector(){this.robotRoot.setRotation("endEffector",new p(0,0,this.endEffectorBend*Math.PI/180))}toggleDebugMode(e){this.robotRoot.setDebugMode(e)}onMouseDown(e){e.target.localName=="canvas"&&(this.mouseDrag=!0)}onMouseUp(e){this.mouseDrag=!1}onMouseMove(e){this.mouseDrag&&(this.cameraOrbitX+=e.movementY,this.cameraOrbitX<90||this.cameraOrbitX>270?this.cameraOrbitY+=e.movementX:this.cameraOrbitY-=e.movementX,this.cameraOrbitX>=360?this.cameraOrbitX-=360:this.cameraOrbitX<0&&(this.cameraOrbitX+=360),this.cameraOrbitY>=360?this.cameraOrbitY-=360:this.cameraOrbitY<0&&(this.cameraOrbitY+=360),this.updateCameraOrbit())}onMouseWheel(e){this.cameraDistance+=e.deltaY/1e3,this.updateCameraOrbit()}updateCameraOrbit(){var e=new O().makeRotationY(-this.cameraOrbitY*Math.PI/180);e.multiply(new O().makeRotationX(-this.cameraOrbitX*Math.PI/180)),this.camera.position.set(0,0,this.cameraDistance),this.camera.applyMatrix4(e),this.cameraOrbitX<90||this.cameraOrbitX>270?this.camera.up.set(0,1,0):this.cameraOrbitX>90&&this.cameraOrbitX<270?this.camera.up.set(0,-1,0):this.cameraOrbitX==270?this.camera.up.set(Math.sin(-this.cameraOrbitY*Math.PI/180),0,Math.cos(-this.cameraOrbitY*Math.PI/180)):this.camera.up.set(-Math.sin(-this.cameraOrbitY*Math.PI/180),0,-Math.cos(-this.cameraOrbitY*Math.PI/180)),this.camera.lookAt(0,0,0)}}var x=new k;x.start();
